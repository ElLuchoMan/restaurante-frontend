<div class="container mt-5 col-md-6">
  <h1 class="text-center mb-4">Ruta del Domicilio</h1>

  <div class="map-container">
    <iframe
      *ngIf="ubicacionUrl"
      [src]="ubicacionUrl"
      loading="lazy"
      width="100%"
      height="400px"
      style="border: 0"
      allowfullscreen
      aria-hidden="false"
      tabindex="0"
    >
    </iframe>
  </div>

  <div class="info-card text-start">
    <h2>üè† Datos del Pedido</h2>
    <p><i class="fas fa-user"></i> Cliente: {{ nombreCliente }}</p>
    <p><i class="fas fa-map-marker-alt"></i> Direcci√≥n: {{ direccionCliente }}</p>
    <p><i class="fas fa-phone"></i> Tel√©fono: {{ telefonoCliente }}</p>
    @if (metodoPagoTexto) {
    <p><i class="fas fa-money-bill-wave"></i> M√©todo de pago: {{ metodoPagoTexto }}</p>
    }
    <p><i class="fas fa-dollar-sign"></i> Total del Pedido: {{ totalPedido }}</p>

    @if (productos.length > 0) {
    <i class="fas fa-cart-shopping"></i> Productos: @for (p of productos; track p) {
    <div>{{ p.cantidad }}x {{ p.nombre }} ‚Äì {{ p.subtotal }}</div>
    } } @else {
    <small>No hay productos para este pedido.</small>
    }
    <p>
      <i class="fas fa-sticky-note"></i> Observaciones: {{ observaciones || 'Sin observaciones' }}
    </p>
    <ng-template #sinProductos>
      <small>No hay productos para este pedido.</small>
    </ng-template>
  </div>

  <div class="text-center mt-3">
    <button (click)="marcarFinalizado()" class="btn btn-success">Marcar finalizado</button>
    <button (click)="marcarPago()" class="btn btn-warning ml-2">Marcar pago</button>
  </div>

  <div class="volver-container mt-3" (click)="volver()">
    <i class="fas fa-arrow-left volver-icon"></i>
    <span class="volver-text">Volver</span>
  </div>
</div>
