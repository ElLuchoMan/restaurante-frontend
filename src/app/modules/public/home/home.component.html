<!-- Barra superior fija (solo Home, solo mobile) -->
<!-- Topbar solo en dispositivos nativos (Capacitor) -->
<div class="home-topbar d-md-none" aria-label="Barra superior" [class.d-none]="isWebView">
  <div class="container d-flex align-items-center justify-content-between">
    <img ngSrc="assets/img/logo2.webp" alt="La cocina DE MARÍA" width="96" height="32" priority />
    <div class="d-flex align-items-center gap-3 ms-auto">
      <ng-container *ngIf="!(isLoggedOut$ | async); else loginLink">
        <a
          *ngIf="cartCount > 0"
          routerLink="/cliente/carrito-cliente"
          class="btn btn-link p-0 position-relative"
          aria-label="Carrito"
        >
          <i class="fa fa-shopping-cart"></i>
          <span class="badge cart-badge topbar">{{ cartCount }}</span>
        </a>
        <span *ngIf="cartCount === 0" class="topbar-icon-disabled" aria-hidden="true">
          <i class="fa fa-shopping-cart"></i>
        </span>
        <a routerLink="/cliente/perfil" class="btn btn-link p-0" aria-label="Perfil">
          <i class="fa fa-user-circle"></i>
        </a>
      </ng-container>
      <ng-template #loginLink>
        <a routerLink="/login" class="btn btn-link p-0" aria-label="Iniciar sesión">
          <i class="fa fa-user"></i>
        </a>
      </ng-template>
    </div>
  </div>
  <div class="home-topbar-shadow" aria-hidden="true"></div>
  <div class="visually-hidden">Inicio</div>
</div>
<div class="home-topbar-spacer d-md-none" [class.d-none]="isWebView" aria-hidden="true"></div>

<div class="container-fluid p-0 home-hero" aria-label="Promociones destacadas">
  <div
    id="header-carousel"
    class="carousel slide carousel-fade"
    data-bs-ride="carousel"
    data-bs-interval="5000"
    data-bs-pause="false"
    data-bs-wrap="true"
  >
    <div class="carousel-inner" role="listbox">
      <div
        class="carousel-item active"
        role="group"
        aria-roledescription="slide"
        aria-label="1 de 3"
      >
        <img
          class="w-100 img-responsive"
          ngSrc="assets/img/carousel-1-1200.webp"
          rawSrcset="assets/img/carousel-1-768.webp 768w, assets/img/carousel-1-1200.webp 1200w"
          sizes="100vw"
          alt="Carrusel 1"
          priority
          width="1200"
          height="686"
        />
        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
          <div class="p-3 bg-text caption-card">
            <h2 class="caption-eyebrow mb-2">Tradición Colombiana reinventada</h2>
            <p class="caption-title mb-3">Un bocado de innovación</p>
            <a routerLink="/menu" class="btn btn-primary btn-lg-mobile mt-1" aria-label="Ver menú"
              >Ver Menú</a
            >
          </div>
        </div>
      </div>
      <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="2 de 3">
        <img
          class="w-100 img-responsive"
          ngSrc="assets/img/carousel-2-1200.webp"
          rawSrcset="assets/img/carousel-2-768.webp 768w, assets/img/carousel-2-1200.webp 1200w"
          sizes="100vw"
          alt="Carrusel 2"
          loading="lazy"
          decoding="async"
          width="1200"
          height="686"
        />
        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
          <div class="p-3 bg-text caption-card">
            <h2 class="caption-eyebrow mb-2">Sabores auténticos</h2>
            <p class="caption-title mb-3">Lo mejor de nuestra tierra</p>
            <a routerLink="/menu" class="btn btn-primary btn-lg-mobile mt-1" aria-label="Ver menú"
              >Ver Menú</a
            >
          </div>
        </div>
      </div>
      <div class="carousel-item" role="group" aria-roledescription="slide" aria-label="3 de 3">
        <img
          class="w-100 img-responsive"
          ngSrc="assets/img/carousel-3-1200.webp"
          rawSrcset="assets/img/carousel-3-768.webp 768w, assets/img/carousel-3-1200.webp 1200w"
          sizes="100vw"
          alt="Carrusel 3"
          loading="lazy"
          decoding="async"
          width="1200"
          height="686"
        />
        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
          <div class="p-3 bg-text caption-card">
            <h2 class="caption-eyebrow mb-2">Para los más arriesgados</h2>
            <p class="caption-title mb-3">Descubre sabores únicos</p>
            <a routerLink="/menu" class="btn btn-primary btn-lg-mobile mt-1" aria-label="Ver menú"
              >Ver Menú</a
            >
          </div>
        </div>
      </div>
    </div>
    <a
      class="carousel-control-prev"
      href="#header-carousel"
      data-bs-slide="prev"
      aria-label="Anterior"
    >
      <div class="btn btn-secondary px-0 control-circle">
        <span class="carousel-control-prev-icon mb-n1"></span>
      </div>
    </a>
    <a
      class="carousel-control-next"
      href="#header-carousel"
      data-bs-slide="next"
      aria-label="Siguiente"
    >
      <div class="btn btn-secondary px-0 control-circle">
        <span class="carousel-control-next-icon mb-n1"></span>
      </div>
    </a>
  </div>
</div>

<!-- Eliminado espaciador: la barra ahora se oculta al ver el footer -->
<div class="container-fluid py-5 home-about">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <h2 class="section-title position-relative text-center mb-5">
          Innovación con sabor colombiano <span class="d-block subtitle">Desde 2025</span>
        </h2>
      </div>
    </div>
    <div class="row align-items-stretch g-4">
      <div class="col-12 col-md-6 col-lg-4 py-4 text-center text-md-start">
        <h3 class="font-weight-bold mb-2">Acerca de nosotros</h3>
        <p class="text-muted lead-sm mb-3">Tradición y creatividad en un bocado</p>
        <p>
          Celebramos la riqueza de la gastronomía colombiana reinventando platos tradicionales con
          un toque innovador, sin dejar atrás las opciones clásicas que todos aman. Desde
          hamburguesas con arepas hasta tacos y burritos con sabores locales, ofrecemos una
          experiencia única que combina tradición y creatividad, diseñada para sorprender y deleitar
          a todos nuestros comensales.
        </p>
        <a
          routerLink="/nosotros"
          class="btn btn-secondary mt-2"
          aria-label="Leer más sobre nosotros"
          >Leer Más</a
        >
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <div class="position-relative about-image rounded overflow-hidden">
          <img
            class="position-absolute w-100 h-100"
            ngSrc="assets/img/about2.webp"
            alt="descriptive image"
            style="object-fit: cover"
            loading="lazy"
            decoding="async"
            sizes="(min-width: 992px) 33vw, (min-width: 768px) 50vw, 100vw"
            fetchpriority="low"
            fill
          />
        </div>
      </div>

      <div class="col-12 col-lg-4 py-4">
        <h3 class="font-weight-bold mb-3 text-center text-lg-start">Lo que nos hace únicos</h3>
        <p>
          En nuestro restaurante, tradición e innovación se unen para ofrecer sabores únicos.
          Disfruta de opciones tradicionales y platos reinventados que resaltan lo mejor de la
          gastronomía colombiana.
        </p>
        <p class="text-muted mb-2 feature-item">
          <i class="fa fa-check text-secondary mr-3"></i>Platos internacionales reinventandos
        </p>
        <p class="text-muted mb-2 feature-item">
          <i class="fa fa-check text-secondary mr-3"></i>Ingredientes locales y frescos
        </p>
        <p class="text-muted mb-3 feature-item">
          <i class="fa fa-check text-secondary mr-3"></i>Experiencia gastronómica única y auténtica
        </p>
        <div class="text-center">
          <a
            routerLink="/menu"
            class="btn btn-primary mt-2 d-inline-block"
            aria-label="Descubrir más del menú"
            >Descubre Más</a
          >
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Acciones rápidas: solo mobile y solo para invitados (Home) -->
<div class="quick-actions-bar d-md-none" *ngIf="(isLoggedOut$ | async) && !isWebView">
  <nav class="container quick-actions" aria-label="Acciones rápidas">
    <div class="row g-3">
      <div class="col-3">
        <a routerLink="/menu" class="qa-item" aria-label="Ir al menú">
          <i class="fa fa-utensils" aria-hidden="true"></i>
          <span>Menú</span>
        </a>
      </div>
      <div class="col-3">
        <a routerLink="/reservas/crear" class="qa-item" aria-label="Crear reserva">
          <i class="fa fa-calendar" aria-hidden="true"></i>
          <span>Reservar</span>
        </a>
      </div>
      <div class="col-3">
        <a routerLink="/ubicacion" class="qa-item" aria-label="Ver ubicación">
          <i class="fa fa-map-marker-alt" aria-hidden="true"></i>
          <span>Ubicación</span>
        </a>
      </div>
      <div class="col-3">
        <a routerLink="/login" class="qa-item" aria-label="Iniciar sesión">
          <i class="fa fa-sign-in-alt" aria-hidden="true"></i>
          <span>Login</span>
        </a>
      </div>
    </div>
  </nav>
</div>
